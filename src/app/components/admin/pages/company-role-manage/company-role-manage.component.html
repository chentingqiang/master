<app-header></app-header>
<section class="content">
    <div class="box box-white">
        <div class="box-body box-body-grey">
            <div class="search-wraper">
                <form nz-form>
                    <div nz-row [nzGutter]="24">
                        <div nz-col [nzSpan]="6">
                            <nz-form-item>
                                <nz-form-label [nzSpan]="6" nzFor="roleNum">角色编号</nz-form-label>
                                <nz-form-control [nzSpan]="18">
                                    <input nz-input [(ngModel)]="companyRoleService.roleNum" id="roleNum" name="roleNum"
                                        placeholder="请输入角色编号">
                                </nz-form-control>
                            </nz-form-item>
                        </div>
                        <div nz-col [nzSpan]="6">
                            <nz-form-item>
                                <nz-form-label [nzSpan]="6" nzFor="roleName">角色名称</nz-form-label>
                                <nz-form-control [nzSpan]="18">
                                    <input nz-input [(ngModel)]="companyRoleService.roleName" id="roleName"
                                        name="roleName" placeholder="请输入角色名称">
                                </nz-form-control>
                            </nz-form-item>
                        </div>
                        <div nz-col [nzSpan]="6">
                            <nz-form-item>
                                <nz-form-label [nzSpan]="6" nzFor="roleName">描述</nz-form-label>
                                <nz-form-control [nzSpan]="18">
                                    <input nz-input [(ngModel)]="companyRoleService.description" id="description"
                                        name="description" placeholder="请输入描述">
                                </nz-form-control>
                            </nz-form-item>
                        </div>
                    </div>
                    <div nz-row>
                        <div nz-col [nzSpan]="24" style="text-align: right;">
                            <button nz-button nzType="default" (click)="searchCompanyRole()"><i nz-icon
                                    type="search"></i>查询</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="box box-primary">
        <div class="box-header with-border">
            <h4 class="box-title">企业角色列表</h4>
            <div class="pull-right">
                <button nz-button type="button" nzType="primary" (click)="addCompanyRole()"><span
                        class="glyphicon glyphicon-plus icon-sty"></span>新增</button>
            </div>
        </div>
        <div class="box-body">
            <div class="">
                <nz-table #nzTable [nzData]="companyRoleService.companyRoleList" nzShowPagination="false"
                    nzBordered="true" [nzLoading]="companyRoleService.load.loading2">
                    <thead>
                        <tr>
                            <th nzAlign="center">角色编号</th>
                            <th nzAlign="center">角色名称</th>
                            <th nzAlign="center">创建时间</th>
                            <th nzAlign="center">描述</th>
                            <th nzAlign="center">操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of nzTable.data">
                            <td nzAlign="center">{{item.id}}</td>
                            <td nzAlign="center">{{item.companyRoleName}}</td>
                            <td nzAlign="center">{{item.createTime}}</td>
                            <td nzAlign="center">{{item.description}}</td>
                            <td nzAlign="center">
                                <a (click)="editCompanyRole(item)">编辑</a>
                                <nz-divider nzType="vertical"></nz-divider>
                                <a (click)="authCompanyRole(item.id)">分配权限</a>
                                <nz-divider nzType="vertical"></nz-divider>
                                <nz-popconfirm nzTitle="确定吗？" (nzOnConfirm)="deleteCompanyRole(item.id)">
                                    <a nz-popconfirm>删除</a>
                                </nz-popconfirm>
                            </td>
                        </tr>
                    </tbody>
                </nz-table>
            </div>
        </div>
        <!-- /.box-body -->
    </div>
</section>
<!-- /.content -->